<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalender Demo - Bereifung24</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .calendar-day {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        .calendar-day:not(.disabled):hover {
            background-color: #EEF2FF;
        }
        .calendar-day.selected {
            background-color: #4F46E5;
            color: white;
        }
        .calendar-day.selected:hover {
            background-color: #4338CA;
        }
        .calendar-day.today {
            box-shadow: 0 0 0 1.5px #818CF8;
            color: #4F46E5;
        }
        .calendar-day.disabled {
            color: #D1D5DB;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-gray-50 py-12">
    <div class="max-w-4xl mx-auto px-4">
        <div class="mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-2">üìÖ Kalender Demo</h1>
            <p class="text-gray-600">Neuer Inline-Kalender f√ºr Bereifung24</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-8">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Ben√∂tigt bis *
                </label>
                
                <div class="bg-white border-2 border-gray-300 rounded-lg p-2">
                    <!-- Navigation -->
                    <div class="flex items-center justify-between mb-2">
                        <button onclick="previousMonth()" class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        
                        <div class="text-sm text-gray-600">
                            <span id="selectedDateText" class="font-medium text-indigo-600">Bitte Datum w√§hlen</span>
                        </div>
                        
                        <button onclick="nextMonth()" class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                    
                    <!-- Two months -->
                    <div class="flex gap-3">
                        <div id="month1" class="flex-1"></div>
                        <div class="hidden md:block w-px bg-gray-200"></div>
                        <div id="month2" class="hidden md:block flex-1"></div>
                    </div>
                    
                    <div class="mt-2 pt-2 border-t border-gray-200 text-xs text-gray-500 text-center">
                        üí° Tipp: W√§hlen Sie ein Datum durch Klicken aus
                    </div>
                </div>
            </div>

            <div id="resultBox" class="mt-6 p-4 bg-green-50 border border-green-200 rounded-lg hidden">
                <p class="text-sm text-green-800">
                    <strong>‚úÖ Gew√§hltes Datum:</strong> <span id="resultDate"></span>
                </p>
                <p class="text-sm text-green-700 mt-2">
                    <strong>Formatiert:</strong> <span id="resultFormatted"></span>
                </p>
            </div>
        </div>

        <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6">
            <h2 class="font-bold text-blue-900 mb-3">‚ú® Features:</h2>
            <ul class="text-sm text-blue-800 space-y-2">
                <li class="flex items-start gap-2">
                    <span class="text-lg">üìÖ</span>
                    <span>Zwei Monate gleichzeitig sichtbar (Desktop)</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-lg">üëÜ</span>
                    <span>Datum direkt anklicken - kein extra Popup</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-lg">‚¨ÖÔ∏è‚û°Ô∏è</span>
                    <span>Mit Pfeilen durch Monate navigieren</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-lg">üîµ</span>
                    <span>Heutiges Datum ist mit blauem Ring markiert</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-lg">‚úÖ</span>
                    <span>Gew√§hltes Datum ist blau hinterlegt</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-lg">üö´</span>
                    <span>Vergangene Tage sind ausgegraut und nicht klickbar</span>
                </li>
            </ul>
        </div>
    </div>

    <script>
        const monthNames = [
            'Januar', 'Februar', 'M√§rz', 'April', 'Mai', 'Juni',
            'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'
        ];
        const dayNames = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];
        
        let currentMonth = new Date();
        let selectedDate = null;
        const minDate = new Date();
        minDate.setDate(minDate.getDate() + 1); // Tomorrow
        
        function getDaysInMonth(year, month) {
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            
            let firstDayOfWeek = firstDay.getDay() - 1;
            if (firstDayOfWeek === -1) firstDayOfWeek = 6;
            
            const days = [];
            for (let i = 0; i < firstDayOfWeek; i++) {
                days.push(null);
            }
            
            for (let day = 1; day <= lastDay.getDate(); day++) {
                days.push(new Date(year, month, day));
            }
            
            return days;
        }
        
        function isToday(date) {
            const today = new Date();
            return date.getDate() === today.getDate() &&
                   date.getMonth() === today.getMonth() &&
                   date.getFullYear() === today.getFullYear();
        }
        
        function isDateDisabled(date) {
            return date < minDate;
        }
        
        function isDateSelected(date) {
            if (!selectedDate) return false;
            return date.getDate() === selectedDate.getDate() &&
                   date.getMonth() === selectedDate.getMonth() &&
                   date.getFullYear() === selectedDate.getFullYear();
        }
        
        function selectDate(date) {
            if (isDateDisabled(date)) return;
            selectedDate = date;
            renderCalendars();
            updateSelectedText();
        }
        
        function updateSelectedText() {
            const textEl = document.getElementById('selectedDateText');
            const resultBox = document.getElementById('resultBox');
            const resultDate = document.getElementById('resultDate');
            const resultFormatted = document.getElementById('resultFormatted');
            
            if (selectedDate) {
                const formatted = selectedDate.toLocaleDateString('de-DE', {
                    day: '2-digit',
                    month: 'long',
                    year: 'numeric'
                });
                textEl.textContent = `Gew√§hlt: ${formatted}`;
                
                const isoDate = selectedDate.toISOString().split('T')[0];
                resultDate.textContent = isoDate;
                
                const fullFormatted = selectedDate.toLocaleDateString('de-DE', {
                    weekday: 'long',
                    day: '2-digit',
                    month: 'long',
                    year: 'numeric'
                });
                resultFormatted.textContent = fullFormatted;
                
                resultBox.classList.remove('hidden');
            } else {
                textEl.textContent = 'Bitte Datum w√§hlen';
                resultBox.classList.add('hidden');
            }
        }
        
        function renderMonth(containerId, monthOffset) {
            const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + monthOffset, 1);
            const days = getDaysInMonth(date.getFullYear(), date.getMonth());
            const container = document.getElementById(containerId);
            
            let html = `
                <div class="text-center mb-1.5">
                    <h3 class="text-sm font-bold text-gray-900">
                        ${monthNames[date.getMonth()]} ${date.getFullYear()}
                    </h3>
                </div>
                
                <div class="grid grid-cols-7 gap-0.5 mb-1">
                    ${dayNames.map(day => `
                        <div class="text-center text-xs font-medium text-gray-600 py-0.5">${day}</div>
                    `).join('')}
                </div>
                
                <div class="grid grid-cols-7 gap-0.5">
            `;
            
            days.forEach((date, index) => {
                if (!date) {
                    html += '<div class="calendar-day"></div>';
                } else {
                    const disabled = isDateDisabled(date);
                    const selected = isDateSelected(date);
                    const today = isToday(date);
                    
                    const classes = ['calendar-day'];
                    if (disabled) classes.push('disabled');
                    if (selected) classes.push('selected');
                    if (today && !selected) classes.push('today');
                    
                    const onclick = disabled ? '' : `onclick="selectDate(new Date(${date.getFullYear()}, ${date.getMonth()}, ${date.getDate()}))"`;
                    
                    html += `<button type="button" class="${classes.join(' ')}" ${onclick}>
                        ${date.getDate()}
                    </button>`;
                }
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        function renderCalendars() {
            renderMonth('month1', 0);
            renderMonth('month2', 1);
        }
        
        function previousMonth() {
            currentMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1);
            renderCalendars();
        }
        
        function nextMonth() {
            currentMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1);
            renderCalendars();
        }
        
        // Initial render
        renderCalendars();
    </script>
</body>
</html>
